<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phiáº¿u Há»c Táº­p Ngá»¯ PhÃ¡p: Bá»• Ngá»¯ Kháº£ NÄƒng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .tab-btn.active {
            border-color: #3b82f6;
            color: #3b82f6;
            background-color: #eff6ff;
        }
        .correct {
            border-color: #22c55e !important;
            background-color: #f0fdf4;
        }
        .incorrect {
            border-color: #ef4444 !important;
            background-color: #fef2f2;
        }
        .feedback {
            font-size: 0.875rem;
            margin-top: 4px;
        }
        .correct-feedback {
            color: #22c55e;
        }
        .incorrect-feedback {
            color: #ef4444;
        }
    </style>
</head>
<body class="antialiased text-slate-800">
    <div class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-600">Phiáº¿u Há»c Táº­p Ngá»¯ PhÃ¡p</h1>
            <p class="mt-2 text-lg text-slate-600">BÃ i 9: Bá»• Ngá»¯ Kháº£ NÄƒng (å¯èƒ½è¡¥è¯­)</p>
        </header>

        <!-- Grammar Section -->
        <section class="mb-10">
            <h2 class="text-2xl font-bold text-slate-700 border-b-2 border-blue-500 pb-2 mb-4">I. Ngá»¯ PhÃ¡p Trá»ng TÃ¢m ğŸ“š</h2>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <!-- Tabs -->
                <div class="flex border-b mb-4 overflow-x-auto">
                    <button class="tab-btn py-2 px-4 font-semibold border-b-2 border-transparent transition active flex-shrink-0" onclick="openTab(event, 'tab1')">KhÃ¡i niá»‡m & Cáº¥u trÃºc</button>
                    <button class="tab-btn py-2 px-4 font-semibold border-b-2 border-transparent transition flex-shrink-0" onclick="openTab(event, 'tab2')">CÃ¡c Dáº¡ng ThÆ°á»ng Gáº·p</button>
                    <button class="tab-btn py-2 px-4 font-semibold border-b-2 border-transparent transition flex-shrink-0" onclick="openTab(event, 'tab3')">PhÃ¢n Biá»‡t</button>
                </div>

                <!-- Tab Content -->
                <div id="tab1" class="tab-content active">
                    <h3 class="text-xl font-semibold text-blue-700 mb-2">1. Bá»• ngá»¯ Kháº£ nÄƒng lÃ  gÃ¬?</h3>
                    <p class="mb-4">Bá»• ngá»¯ kháº£ nÄƒng (BNKN) dÃ¹ng Ä‘á»ƒ diá»…n táº£ má»™t hÃ nh Ä‘á»™ng <strong class="text-blue-600">cÃ³ kháº£ nÄƒng thá»±c hiá»‡n hoáº·c hoÃ n thÃ nh hay khÃ´ng</strong> do Ä‘iá»u kiá»‡n chá»§ quan hoáº·c khÃ¡ch quan cho phÃ©p.</p>
                    
                    <h3 class="text-xl font-semibold text-blue-700 mb-2">2. Cáº¥u trÃºc</h3>
                    <div class="space-y-3">
                        <div class="bg-blue-50 p-4 rounded-md">
                            <p class="font-mono font-semibold">Kháº³ng Ä‘á»‹nh: <span class="text-blue-800">Äá»™ng tá»« + å¾— + Bá»• ngá»¯</span></p>
                            <p class="text-sm text-slate-600 mt-1">VÃ­ dá»¥: æˆ‘<strong>å¬å¾—æ‡‚</strong>è€å¸ˆè¯´çš„è¯ã€‚(TÃ´i nghe hiá»ƒu Ä‘Æ°á»£c lá»i tháº§y giÃ¡o nÃ³i.)</p>
                        </div>
                        <div class="bg-red-50 p-4 rounded-md">
                            <p class="font-mono font-semibold">Phá»§ Ä‘á»‹nh: <span class="text-red-800">Äá»™ng tá»« + ä¸ + Bá»• ngá»¯</span></p>
                            <p class="text-sm text-slate-600 mt-1">VÃ­ dá»¥: ä½œä¸šå¤ªå¤šï¼Œæˆ‘ä»Šå¤©<strong>åšä¸å®Œ</strong>ã€‚(BÃ i táº­p nhiá»u quÃ¡, hÃ´m nay tÃ´i lÃ m khÃ´ng xong.)</p>
                        </div>
                    </div>
                </div>

                <div id="tab2" class="tab-content">
                    <h3 class="text-xl font-semibold text-blue-700 mb-3">CÃ¡c Dáº¡ng Bá»• Ngá»¯ ThÆ°á»ng Gáº·p</h3>
                    <div class="space-y-4">
                        <div>
                            <p class="font-semibold">A. Vá»›i Bá»• ngá»¯ Xu hÆ°á»›ng (ä¸Š, ä¸‹, è¿›, å‡º, å›, è¿‡, èµ·...)</p>
                            <div class="bg-slate-50 p-3 mt-2 rounded-lg border border-slate-200">
                                <p class="italic text-slate-600">Ngá»¯ cáº£nh: An vÃ  BÃ¬nh Ä‘ang Ä‘i leo nÃºi.</p>
                                <p><strong>BÃ¬nh:</strong> å±±è¿™ä¹ˆé«˜ï¼Œä½ <strong>çˆ¬å¾—ä¸Šå»</strong>å—ï¼Ÿ(NÃºi cao tháº¿ nÃ y, cáº­u cÃ³ leo lÃªn ná»•i khÃ´ng?)</p>
                                <p><strong>An:</strong> æ²¡é—®é¢˜ï¼Œæˆ‘<strong>çˆ¬å¾—ä¸Šå»</strong>ï¼(KhÃ´ng váº¥n Ä‘á», tá»› leo lÃªn Ä‘Æ°á»£c!)</p>
                                <p><strong>BÃ¬nh:</strong> é‚£ä¸ªå±±æ´å¤ªé»‘äº†ï¼Œæˆ‘<strong>ä¸æ•¢è¿›å»</strong>ã€‚(CÃ¡i hang nÃºi kia tá»‘i quÃ¡, tá»› khÃ´ng dÃ¡m vÃ o.)</p>
                            </div>
                        </div>
                        <div>
                            <p class="font-semibold">B. Vá»›i cÃ¡c Ä‘á»™ng tá»«/tÃ­nh tá»« Ä‘áº·c biá»‡t (åŠ¨, å¥½, ä½, äº†...)</p>
                            <div class="bg-slate-50 p-3 mt-2 rounded-lg border border-slate-200">
                                <p class="italic text-slate-600">Ngá»¯ cáº£nh: Sau khi leo nÃºi.</p>
                                <p><strong>An:</strong> æˆ‘å¤ªç´¯äº†ï¼Œä¸€ç‚¹å„¿ä¹Ÿ<strong>èµ°ä¸åŠ¨</strong>äº†ã€‚(Tá»› má»‡t quÃ¡, Ä‘i khÃ´ng ná»•i má»™t chÃºt nÃ o ná»¯a rá»“i.)</p>
                                <p><strong>BÃ¬nh:</strong> è¿™ä¹ˆå¤šç”Ÿè¯ï¼Œä½ ä¸€å¤©<strong>è®°å¾—ä½</strong>å—ï¼Ÿ(Nhiá»u tá»« má»›i tháº¿, má»™t ngÃ y cáº­u nhá»› háº¿t ná»•i khÃ´ng?)</p>
                                <p><strong>An:</strong> æˆ‘æ‹…å¿ƒæ˜å¤©çš„è€ƒè¯•æˆ‘<strong>è€ƒä¸å¥½</strong>ã€‚(Tá»› lo bÃ i thi ngÃ y mai mÃ¬nh lÃ m khÃ´ng tá»‘t.)</p>
                                <p><strong>BÃ¬nh:</strong> ä½ çš„è…¿å—ä¼¤äº†ï¼Œå‚åŠ <strong>ä¸äº†</strong>æ˜å¤©çš„æ´»åŠ¨äº†ã€‚(ChÃ¢n cáº­u bá»‹ thÆ°Æ¡ng rá»“i, khÃ´ng tham gia Ä‘Æ°á»£c hoáº¡t Ä‘á»™ng ngÃ y mai ná»¯a.)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tab3" class="tab-content">
                    <h3 class="text-xl font-semibold text-blue-700 mb-3">PhÃ¢n biá»‡t Bá»• ngá»¯ Kháº£ nÄƒng vÃ  Bá»• ngá»¯ Tráº¡ng thÃ¡i</h3>
                    <p class="mb-4">ÄÃ¢y lÃ  hai loáº¡i bá»• ngá»¯ dá»… gÃ¢y nháº§m láº«n. HÃ£y xem báº£ng so sÃ¡nh dÆ°á»›i Ä‘Ã¢y:</p>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-slate-100">
                                    <th class="p-3 font-semibold border">TiÃªu chÃ­</th>
                                    <th class="p-3 font-semibold border text-blue-600">Bá»• ngá»¯ Kháº£ nÄƒng</th>
                                    <th class="p-3 font-semibold border text-teal-600">Bá»• ngá»¯ Tráº¡ng thÃ¡i</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="p-3 border font-semibold">Ã nghÄ©a</td>
                                    <td class="p-3 border">Diá»…n táº£ <strong class="text-blue-600">kháº£ nÄƒng</strong> xáº£y ra (chÆ°a cháº¯c Ä‘Ã£ xáº£y ra)</td>
                                    <td class="p-3 border">ÄÃ¡nh giÃ¡, mÃ´ táº£ <strong class="text-teal-600">káº¿t quáº£, má»©c Ä‘á»™</strong> cá»§a hÃ nh Ä‘á»™ng Ä‘Ã£ xáº£y ra</td>
                                </tr>
                                <tr>
                                    <td class="p-3 border font-semibold">Phá»§ Ä‘á»‹nh</td>
                                    <td class="p-3 border">V + <strong class="text-blue-600">ä¸</strong> + BN (æ¼”ä¸å¥½)</td>
                                    <td class="p-3 border">V + å¾— + <strong class="text-teal-600">ä¸</strong> + TÃ­nh tá»« (æ¼”å¾—ä¸å¥½)</td>
                                </tr>
                                <tr>
                                    <td class="p-3 border font-semibold">CÃ¢u há»i</td>
                                    <td class="p-3 border">V + <strong class="text-blue-600">å¾—</strong> + BN + V + <strong class="text-blue-600">ä¸</strong> + BN? (æ¼”å¾—å¥½æ¼”ä¸å¥½?)</td>
                                    <td class="p-3 border">V + å¾— + TÃ­nh tá»« + <strong class="text-teal-600">ä¸</strong> + TÃ­nh tá»«? (æ¼”å¾—å¥½ä¸å¥½?)</td>
                                </tr>
                                <tr>
                                    <td class="p-3 border font-semibold">TÃ¢n ngá»¯</td>
                                    <td class="p-3 border"><strong class="text-blue-600">CÃ³ thá»ƒ</strong> Ä‘á»©ng sau bá»• ngá»¯ (æˆ‘æ¼”ä¸å¥½è¿™ä¸ªèŠ‚ç›®ã€‚)</td>
                                    <td class="p-3 border"><strong class="text-teal-600">KhÃ´ng thá»ƒ</strong> Ä‘á»©ng sau bá»• ngá»¯, pháº£i Ä‘Æ°a lÃªn trÆ°á»›c (è¿™ä¸ªèŠ‚ç›®ä»–æ¼”å¾—ä¸å¥½ã€‚)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Practice Section -->
        <section>
            <h2 class="text-2xl font-bold text-slate-700 border-b-2 border-blue-500 pb-2 mb-4">II. Luyá»‡n Táº­p Cá»§ng Cá»‘ âœï¸</h2>
            <div class="bg-white p-6 rounded-lg shadow-md space-y-8">
                <!-- Exercise 1: Multiple Choice -->
                <div class="exercise" data-type="mcq">
                    <h3 class="text-lg font-semibold mb-3">BÃ i 1: Chá»n Ä‘Ã¡p Ã¡n Ä‘Ãºng Ä‘á»ƒ hoÃ n thÃ nh cÃ¢u.</h3>
                    <div class="space-y-4">
                        <div class="question" data-answer="B">
                            <p>1. è¿™ä»¶è¡Œæå¤ªé‡äº†ï¼Œæˆ‘ä¸€ä¸ªäººæ‹¿( )åŠ¨ã€‚</p>
                            <div class="flex space-x-4 mt-2">
                                <label class="flex items-center"><input type="radio" name="q1" value="A" class="mr-2"> A. å¾—</label>
                                <label class="flex items-center"><input type="radio" name="q1" value="B" class="mr-2"> B. ä¸</label>
                            </div>
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="B">
                            <p>2. æ•™å®¤é‡Œäººå¤ªå¤šï¼Œæˆ‘ä»¬è¿›( )å»ã€‚</p>
                            <div class="flex space-x-4 mt-2">
                                <label class="flex items-center"><input type="radio" name="q2" value="A" class="mr-2"> A. å¾—</label>
                                <label class="flex items-center"><input type="radio" name="q2" value="B" class="mr-2"> B. ä¸</label>
                            </div>
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="A">
                            <p>3. ä½ æ”¾å¿ƒï¼Œè¿™ç‚¹å„¿äº‹æˆ‘åš( )å¥½ã€‚</p>
                            <div class="flex space-x-4 mt-2">
                                <label class="flex items-center"><input type="radio" name="q3" value="A" class="mr-2"> A. å¾—</label>
                                <label class="flex items-center"><input type="radio" name="q3" value="B" class="mr-2"> B. ä¸</label>
                            </div>
                            <div class="feedback"></div>
                        </div>
                    </div>
                </div>

                <!-- Exercise 2: Fill in the Blanks -->
                <div class="exercise" data-type="fill">
                    <h3 class="text-lg font-semibold mb-3">BÃ i 2: DÃ¹ng tá»« cho sáºµn Ä‘á»ƒ hoÃ n thÃ nh cÃ¢u vá»›i bá»• ngá»¯ kháº£ nÄƒng.</h3>
                    <div class="space-y-4">
                        <div class="question" data-answer="å¬ä¸æ¸…æ¥š">
                            <p>1. ä»–è¯´å¾—å¤ªå¿«ï¼Œæˆ‘___________ã€‚(æ¸…æ¥š)</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="åå¾—ä¸‹">
                            <p>2. è¿™ä¸ªæˆ¿é—´ä¸å¤§ï¼Œ___________äºŒåä¸ªäººå—ï¼Ÿ(åä¸‹)</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="æ‰¾ä¸åˆ°">
                            <p>3. æˆ‘çš„é’¥åŒ™å‘¢ï¼Ÿæˆ‘æ€ä¹ˆ___________ï¼Ÿ(æ‰¾åˆ°)</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                    </div>
                </div>

                <!-- Exercise 3: Error Correction -->
                <div class="exercise" data-type="correct">
                    <h3 class="text-lg font-semibold mb-3">BÃ i 3: TÃ¬m vÃ  sá»­a lá»—i sai trong cÃ¡c cÃ¢u sau.</h3>
                    <div class="space-y-4">
                        <div class="question" data-answer="è¿™ä¸ªæ²™å‘æˆ‘ä»¬ä¸¤ä¸ªæ¬ä¸åŠ¨ã€‚">
                            <p>1. <span class="text-red-500 line-through">è¿™ä¸ªæ²™å‘æˆ‘ä»¬ä¸¤ä¸ªæ¬å¾—ä¸åŠ¨ã€‚</span></p>
                            <input type="text" placeholder="Viáº¿t láº¡i cÃ¢u Ä‘Ãºng..." class="mt-2 p-2 border rounded-md w-full transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="è¿™ä¸ªåŒ…æ”¾ä¸ä¸‹è¿™ä¹ˆå¤šä¹¦ã€‚">
                            <p>2. <span class="text-red-500 line-through">è¿™ä¸ªåŒ…æ”¾å¾—ä¸ä¸‹è¿™ä¹ˆå¤šä¹¦ã€‚</span></p>
                            <input type="text" placeholder="Viáº¿t láº¡i cÃ¢u Ä‘Ãºng..." class="mt-2 p-2 border rounded-md w-full transition">
                            <div class="feedback"></div>
                        </div>
                         <div class="question" data-answer="ä»–æ¼”ä¸å¥½è¿™ä¸ªèŠ‚ç›®ã€‚">
                            <p>3. <span class="text-red-500 line-through">ä»–æ¼”å¾—ä¸å¥½è¿™ä¸ªèŠ‚ç›®ã€‚</span> (Diá»…n táº£ kháº£ nÄƒng)</p>
                            <input type="text" placeholder="Viáº¿t láº¡i cÃ¢u Ä‘Ãºng..." class="mt-2 p-2 border rounded-md w-full transition">
                            <div class="feedback"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercise 4: New exercise from image -->
                <div class="exercise" data-type="fill">
                    <h3 class="text-lg font-semibold mb-3">BÃ i 4: Chá»n cÃ¡c cá»¥m tá»« dÆ°á»›i Ä‘Ã¢y Ä‘iá»n vÃ o chá»— trá»‘ng.</h3>
                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-md mb-4 text-sm text-slate-700 grid grid-cols-2 sm:grid-cols-4 gap-2">
                        <span>å­¦å¾—äº†</span> <span>å­¦ä¸äº†</span> <span>è®°å¾—ä½</span> <span>è®°ä¸ä½</span>
                        <span>ä¿®ä¸å¥½</span> <span>ä¿®ä¸äº†</span> <span>ä¸Šå¾—å»</span> <span>ä¸Šä¸å»</span>
                        <span>ç”¨å¾—äº†</span> <span>ç”¨ä¸äº†</span> <span>æ‰¾å¾—åˆ°</span> <span>æ‰¾ä¸åˆ°</span>
                        <span>èµ°å¾—åŠ¨</span> <span>èµ°ä¸åŠ¨</span> <span>æ¬å¾—åŠ¨</span> <span>æ¬ä¸åŠ¨</span>
                        <span>å‚åŠ å¾—äº†</span> <span>å‚åŠ ä¸äº†</span> <span>æ”¾ä¸è¿›å»</span> <span>æ”¾å¾—è¿›å»</span>
                        <span>çˆ¬å¾—ä¸Šå»</span> <span>çˆ¬ä¸ä¸Šå»</span>
                    </div>
                    <div class="space-y-4">
                        <div class="question" data-answer="è®°ä¸ä½">
                            <p>1. ä¸€å¤©æˆ‘___________é‚£ä¹ˆå¤šç”Ÿè¯ã€‚</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="æ‰¾ä¸åˆ°">
                            <p>2. ä»–æ²¡å»è¿‡é‚£å„¿ï¼Œè‚¯å®š___________ã€‚</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="å­¦å¾—äº†">
                            <p>3. æˆ‘ä»¬ä¸€å¹´___________äº”åƒä¸ªè¯ã€‚</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="ç”¨ä¸äº†">
                            <p>4. ä»è¿™å„¿åˆ°å¤©æ´¥åç«è½¦___________ä¸‰ä¸ªå°æ—¶ã€‚</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="ä¸Šä¸å»">
                            <p>5. è¿™è¾†è½¦äººå¤ªå¤šï¼Œ___________äº†ï¼Œæˆ‘ä»¬å†ç­‰ä¸€è¾†å§ã€‚</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="ä¿®ä¸å¥½">
                            <p>6. ä½ è¿™å°ç”µè§†æœºå¤ªæ—§äº†ï¼Œå¯èƒ½___________äº†ï¼Œæ¢ä¸€å°æ–°çš„å§ã€‚</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="å‚åŠ ä¸äº†">
                            <p>7. ä»–æ„Ÿå†’äº†ï¼Œæ˜å¤©çš„è¿åŠ¨ä¼šå¯èƒ½___________ã€‚</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                        <div class="question" data-answer="èµ°ä¸åŠ¨">
                            <p>8. æˆ‘ä»¬ä¼‘æ¯ä¼‘æ¯å§ï¼Œæˆ‘___________äº†ã€‚</p>
                            <input type="text" class="mt-2 p-2 border rounded-md w-full sm:w-1/2 transition">
                            <div class="feedback"></div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Action Buttons -->
            <div class="mt-8 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                <button id="check-btn" class="w-full sm:w-auto bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-lg">
                    Kiá»ƒm tra Ä‘Ã¡p Ã¡n
                </button>
                <button id="reset-btn" class="w-full sm:w-auto bg-slate-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-slate-600 transition-transform transform hover:scale-105 shadow-lg">
                    LÃ m láº¡i
                </button>
            </div>
            <div id="score" class="text-center mt-6 font-bold text-xl"></div>
        </section>
    </div>

    <script>
        // Tab functionality
        function openTab(evt, tabName) {
            const tabcontent = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            const tablinks = document.getElementsByClassName("tab-btn");
            for (let i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        const checkBtn = document.getElementById('check-btn');
        const resetBtn = document.getElementById('reset-btn');
        const scoreDiv = document.getElementById('score');

        checkBtn.addEventListener('click', () => {
            let totalCorrect = 0;
            let totalQuestions = 0;

            document.querySelectorAll('.exercise').forEach(exercise => {
                const type = exercise.dataset.type;
                
                exercise.querySelectorAll('.question').forEach(q => {
                    totalQuestions++;
                    const correctAnswer = q.dataset.answer;
                    const feedbackDiv = q.querySelector('.feedback');
                    let isCorrect = false;

                    if (type === 'mcq') {
                        const selected = q.querySelector('input:checked');
                        if (selected) {
                            isCorrect = selected.value === correctAnswer;
                            const labels = q.querySelectorAll('label');
                            labels.forEach(label => {
                                const radio = label.querySelector('input');
                                if (radio.value === correctAnswer) {
                                    label.classList.add('text-green-600', 'font-semibold');
                                }
                                if (radio.checked && !isCorrect) {
                                    label.classList.add('text-red-600');
                                }
                            });
                        }
                    } else if (type === 'fill' || type === 'correct') {
                        const input = q.querySelector('input');
                        const userAnswer = input.value.trim().replace(/[.ã€‚,ï¼Œ]/g, '');
                        isCorrect = userAnswer === correctAnswer;
                        input.classList.remove('correct', 'incorrect');
                        input.classList.add(isCorrect ? 'correct' : 'incorrect');
                    }

                    feedbackDiv.innerHTML = ''; // Clear previous feedback
                    if (isCorrect) {
                        totalCorrect++;
                        feedbackDiv.innerHTML = `<span class="correct-feedback">ChÃ­nh xÃ¡c!</span>`;
                    } else {
                        feedbackDiv.innerHTML = `<span class="incorrect-feedback">ChÆ°a Ä‘Ãºng. ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : <strong>${correctAnswer}</strong></span>`;
                    }
                });
            });

            scoreDiv.textContent = `Káº¿t quáº£: ${totalCorrect} / ${totalQuestions} cÃ¢u Ä‘Ãºng!`;
            if (totalCorrect === totalQuestions) {
                scoreDiv.classList.add('text-green-600');
                scoreDiv.classList.remove('text-red-600');
            } else {
                 scoreDiv.classList.add('text-red-600');
                 scoreDiv.classList.remove('text-green-600');
            }
        });

        resetBtn.addEventListener('click', () => {
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
                radio.closest('label').classList.remove('text-green-600', 'font-semibold', 'text-red-600');
            });
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
                input.classList.remove('correct', 'incorrect');
            });
            document.querySelectorAll('.feedback').forEach(feedback => feedback.innerHTML = '');
            scoreDiv.textContent = '';
        });
    </script>
</body>
</html>
